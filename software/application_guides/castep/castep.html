

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CASTEP &mdash; Sigma2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="../../../_static/nris.css?v=69e7a171" />
      <link rel="stylesheet" type="text/css" href="../../../_static/universal-navbar.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/statuspal.css" />

  
    <link rel="shortcut icon" href="../../../_static/nris.ico"/>
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../../_static/doctools.js?v=9a2dae69"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../../_static/copybutton.js?v=f281be69"></script>
      <script async="async" src="https://siteimproveanalytics.com/js/siteanalyze_6036825.js"></script>
      <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
      <script src="../../../_static/statuspal_widget.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="CDO" href="../cdo.html" />
    <link rel="prev" title="RoseTTAFold" href="../bioinfo/rosettafold.html" /> 
</head>

<body class="wy-body-for-nav">
<!-- Send url to parent when displayed as iframe -->
<script>
    const valid_orign_url = "https://www.sigma2.no"
    window.addEventListener('message', function(event) {
        if (event.data === 'getDocumentationIframeUrl' && event.origin.startsWith(valid_orign_url)) {
            // path only (/path/example.html)
            const path = window.location.pathname
            // query string (including the initial ? symbol)
            const search = window.location.search
            // Returns the hash (including the initial # symbol)
            const hash = window.location.hash
            const newUrl = path + search + hash;
            event.source.postMessage(newUrl, event.origin)
        }
    })

</script>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            Sigma2/NRIS documentation
              <img src="../../../_static/NRIS Logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Policies</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../code-of-conduct.html">Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.sigma2.no/acceptable-use-policy">User Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/security-policy.html">Security policy for Sigma2 infrastructure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../files_storage/sharing_files.html">Data handling and storage policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../licenses.html">Licence and access policies</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.sigma2.no/data-policy">Data Policy</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.sigma2.no/data-decommissioning-policies">Data decommissioning policies</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.sigma2.no/central-data-library-policy">Central Data Library Policy</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.sigma2.no/policies">Overview of Sigma2 Policies</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting help</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_help/support_line.html">Getting help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_help/extended_support.html">Extended support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_help/faq.html">Frequently asked questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_help/how_to_write_good_support_requests.html">Writing good support requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_help/qa-sessions.html">Open Question &amp; Answer Sessions for All Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_help/lost_forgotten_password.html">Lost, expiring or changing passwords</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_help/two_factor_authentication.html">One-time-pad (OTP) / Two-factor authentication</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.sigma2.no/project-leader-handbook">Project Leader Support</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Training</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../training/events.html">Training events</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../training/notes_qa.html">Questions, Answers and Feedbacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../training/videos.html">Training Video Archives</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../training/short_instructions.html">Short Instructions Video Archives</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../training/material.html">Training materials</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/opslog.html">Status and maintenance of systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/applying_account.html">How do I get an account?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/applying_resources.html">Applying for computing and storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/file_transfer.html">File transfer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/editing_files.html">Editing files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../code_development/guides/vs_code/connect_to_server.html">Connecting to a system with Visual Studio Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/ssh.html">SSH</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/ssh.html#common-ssh-errors">Common SSH errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/ood.html">Open OnDemand</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/R.html">First R calculation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data and Storage Services</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../files_storage/nird/nird_dp.html">NIRD Data Peak</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../files_storage/nird/nird_dl.html">NIRD Data Lake</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../files_storage/nird/backup_lmd.html">NIRD Backup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../files_storage/nird/cdl.html">(NIRD) Central Data Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nird_archive/user-guide.html">NIRD Research Data Archive (NIRD RDA)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nird_service_platform/overview_nird_service_platform.html">NIRD Service Platform</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Storage Resources and Usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../files_storage/nird_lmd.html">NIRD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../files_storage/clusters.html">Storage areas on HPC clusters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../files_storage/quota.html">Storage quota</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../files_storage/backup.html">Backup on Betzy, Saga, and NIRD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../files_storage/performance.html">Optimizing storage performance</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">HPC usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../hpc_machines/migration2metacenter.html">Migration to an NRIS HPC machine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../computing/responsible-use.html">Using shared resources responsibly</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../jobs/overview.html">Running jobs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../jobs/internet-login-compute-nodes.html">Login nodes:</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../jobs/internet-login-compute-nodes.html#compute-nodes">Compute nodes:</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../computing/tuning-applications.html">Tuning applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../code_development/guides_llm.html">Running LLM Models in a Cluster Environment</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Compute resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../hpc_machines/hardware_overview.html">Overview over our machines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hpc_machines/betzy.html">Betzy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hpc_machines/olivia.html">Olivia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hpc_machines/saga.html">Saga</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hpc_machines/lumi.html">LUMI</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../modulescheme.html">Software module scheme</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installed_software.html">Installed software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../userinstallsw.html">Installing software as user</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../appguides.html">Application guides</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../beast.html">Beast</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bioinfo.html">Bioinformatics Software &amp; Databases</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">CASTEP</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#introduction">Introduction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#license-and-access">License and access</a></li>
<li class="toctree-l4"><a class="reference internal" href="#citation">Citation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#castep-on-nris-machinery">CASTEP on NRIS machinery</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#running-castep-on-nris-machines">Running CASTEP on NRIS machines</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../cdo.html">CDO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cesm.html">CESM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gaussian/gaussian.html">The GAUSSIAN program system</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gdal.html">GDAL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gromacs.html">GROMACS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lammps.html">LAMMPS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../matlab.html">MATLAB</a></li>
<li class="toctree-l2"><a class="reference internal" href="../matplotlib.html">Plotting with Matplotlib</a></li>
<li class="toctree-l2"><a class="reference internal" href="../namd.html">NAMD</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nco.html">NCO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ncview.html">Ncview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nwchem.html">NWChem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../opendrift.html">OpenDrift</a></li>
<li class="toctree-l2"><a class="reference internal" href="../openfoam.html">OpenFOAM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../openfoam.html#openfoam-container-build-and-job-script-guide">OpenFOAM Container Build and Job Script Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../openfoam.html#guide-to-creating-and-compiling-a-custom-openfoam-solver">Guide to Creating and Compiling a Custom OpenFOAM Solver</a></li>
<li class="toctree-l2"><a class="reference internal" href="../paraview_server.html">ParaView Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../paraview_x11.html">ParaView using X11 Forwarding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../paraview_web.html">ParaViewWeb with Apptainer (singularity)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../proj.html">PROJ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rstudio.html">RStudio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../schrodinger/schrodinger.html">Schrödinger</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vasp.html">VASP (Vienna Ab initio Simulation Package)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../visit.html">VisIt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../wrf.html">WRF / WPS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../eessi.html">EESSI</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tools and Additional services</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../nird_toolkit/overview.html">NIRD Toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_help/course_resources.html">CRaaS - Course Resources as a Service</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Code development and tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../code_development/overview.html">Code development and tutorials</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Sigma2/NRIS documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../appguides.html">Application guides</a></li>
      <li class="breadcrumb-item active">CASTEP</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="castep">
<span id="id1"></span><h1><a class="toc-backref" href="#id2" role="doc-backlink">CASTEP</a><a class="headerlink" href="#castep" title="Link to this heading"></a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you want to contribute to the documentation of this code, please contact us at <a class="reference external" href="mailto:support&#37;&#52;&#48;nris&#46;no">support<span>&#64;</span>nris<span>&#46;</span>no</a></p>
</div>
<nav class="contents" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#castep" id="id2">CASTEP</a></p>
<ul>
<li><p><a class="reference internal" href="#introduction" id="id3">Introduction</a></p>
<ul>
<li><p><a class="reference internal" href="#license-and-access" id="id4">License and access</a></p></li>
<li><p><a class="reference internal" href="#citation" id="id5">Citation</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#castep-on-nris-machinery" id="id6">CASTEP on NRIS machinery</a></p>
<ul>
<li><p><a class="reference internal" href="#running-castep-on-nris-machines" id="id7">Running CASTEP on NRIS machines</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
<section id="introduction">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Introduction</a><a class="headerlink" href="#introduction" title="Link to this heading"></a></h2>
<p>CASTEP is a leading code for calculating the properties of materials from first principles. Using density functional theory, it can simulate a wide range of properties of materials proprieties including energetics, structure at the atomic level, vibrational properties, electronic response properties etc. In particular it has a wide range of spectroscopic features that link directly to experiment, such as infra-red and Raman spectroscopies, NMR, and core level spectra.</p>
<p>More information on the <a class="reference external" href="https://www.castep.org">CASTEP
website</a>.</p>
<section id="license-and-access">
<span id="access"></span><h3><a class="toc-backref" href="#id4" role="doc-backlink">License and access</a><a class="headerlink" href="#license-and-access" title="Link to this heading"></a></h3>
<p>The CASTEP Developers’ Group (CDG) and Cambridge Enterprise have announced a
cost-free worldwide source code license to CASTEP and NMR CASTEP for academic
use.</p>
<p>To get access to CASTEP, you need to follow the procedure described below.</p>
<p>If you, however, wonder if you are in the castep group of users, you can find out by typing:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>id<span class="w"> </span><span class="p">|</span><span class="w"> </span>tr<span class="w"> </span><span class="s2">&quot;,&quot;</span><span class="w"> </span><span class="s2">&quot;\n&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>castep
</pre></div>
</div>
<p>If this command comes out with a result, then you are in the group and may use the code - if not, go through the following procedure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Access</span> <span class="n">to</span> <span class="n">CASTEP</span> <span class="ow">is</span> <span class="n">limited</span> <span class="n">by</span> <span class="n">membership</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">castep</span> <span class="n">group</span><span class="o">.</span>
<span class="n">In</span> <span class="n">order</span> <span class="n">to</span> <span class="n">use</span> <span class="n">the</span> <span class="n">software</span> <span class="n">on</span> <span class="n">our</span> <span class="n">infrastructure</span><span class="p">,</span> <span class="n">first</span> <span class="n">make</span> <span class="n">sure</span> <span class="n">you</span> <span class="n">have</span> <span class="n">access</span> <span class="n">to</span> <span class="n">a</span> <span class="n">valid</span> <span class="n">license</span><span class="o">.</span>

<span class="o">**</span><span class="n">When</span> <span class="n">you</span> <span class="n">have</span> <span class="n">access</span> <span class="n">to</span> <span class="n">a</span> <span class="n">valid</span> <span class="n">CASTEP</span> <span class="n">license</span><span class="o">**</span>
<span class="n">Send</span> <span class="n">an</span> <span class="n">email</span> <span class="n">to</span>
<span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;mailto:contact@sigma2.no?subject=Request for CASTEP access&quot;</span><span class="o">&gt;</span>
<span class="n">contact</span><span class="nd">@sigma2</span><span class="o">.</span><span class="n">no</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span> <span class="k">with</span> <span class="n">the</span> <span class="n">following</span> <span class="n">information</span><span class="p">:</span>
<span class="o">*</span> <span class="n">Full</span> <span class="n">name</span>
<span class="o">*</span> <span class="n">E</span><span class="o">-</span><span class="n">mail</span> <span class="n">address</span>
<span class="o">*</span> <span class="n">ORCA</span> <span class="n">ID</span>

<span class="n">We</span> <span class="n">will</span> <span class="n">then</span> <span class="n">have</span> <span class="n">to</span> <span class="n">manually</span> <span class="n">verify</span> <span class="n">this</span> <span class="n">information</span> <span class="k">with</span> <span class="n">STFC</span> <span class="n">UK</span><span class="o">/</span><span class="n">CASTEP</span> <span class="n">before</span> <span class="n">granting</span> <span class="n">access</span><span class="o">.</span> <span class="n">As</span> <span class="n">such</span> <span class="n">there</span> <span class="n">may</span> <span class="n">be</span> <span class="n">some</span> <span class="n">waiting</span> <span class="n">time</span> <span class="n">unfortunately</span><span class="o">.</span>
</pre></div>
</div>
</section>
<section id="citation">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Citation</a><a class="headerlink" href="#citation" title="Link to this heading"></a></h3>
<p>For the recommended citation, please consult the <a class="reference external" href="https://www.castep.org">CASTEP page</a>.</p>
</section>
</section>
<section id="castep-on-nris-machinery">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">CASTEP on NRIS machinery</a><a class="headerlink" href="#castep-on-nris-machinery" title="Link to this heading"></a></h2>
<p>Currently, <strong>CASTEP</strong> is installed on <a class="reference internal" href="../../../hpc_machines/saga.html#saga"><span class="std std-ref">Saga</span></a>. To see available versions when logged on to the machine in question, use the <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">avail</span></code> or <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">spider</span></code> commands as shown below:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>module<span class="w"> </span>avail<span class="w"> </span>castep
</pre></div>
</div>
<p>If you are in the castep group of users, you may use CASTEP by typing:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>module<span class="w"> </span>load<span class="w"> </span>CASTEP/&lt;version&gt;
<span class="c1"># (eg. module load CASTEP/22.1.1-intel-2022b)</span>
</pre></div>
</div>
<p>specifying one of the available versions.</p>
<section id="running-castep-on-nris-machines">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">Running CASTEP on NRIS machines</a><a class="headerlink" href="#running-castep-on-nris-machines" title="Link to this heading"></a></h3>
<p><strong>Please inspect the job script examples and/or jobscripts before submitting jobs!</strong></p>
<details>
<summary>Testing CASTEP: Ethene
</summary>
<br>
To test CASTEP, we have borrowed the Ethene-example from [www.mjr19.org.uk/castep/test.html](https://www.mjr19.org.uk/castep/test.html). To perform this test, you need two files; 
<p>One file called <strong>ethene.cell</strong> with the contents</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>%block<span class="w"> </span>LATTICE_ABC
ang
<span class="m">8</span>.000000<span class="w"> </span><span class="m">8</span>.000000<span class="w"> </span><span class="m">7</span>.000000
<span class="m">90</span>.000000<span class="w"> </span><span class="m">90</span>.000000<span class="w"> </span><span class="m">90</span>.000000
%endblock<span class="w"> </span>LATTICE_ABC

%block<span class="w"> </span>POSITIONS_ABS
<span class="w">  </span>C<span class="w"> </span><span class="m">4</span>.698560<span class="w"> </span><span class="m">4</span>.000000<span class="w"> </span><span class="m">3</span>.500000
<span class="w">  </span>C<span class="w"> </span><span class="m">3</span>.301440<span class="w"> </span><span class="m">4</span>.000000<span class="w"> </span><span class="m">3</span>.500000
<span class="w">  </span>H<span class="w"> </span><span class="m">5</span>.270880<span class="w"> </span><span class="m">4</span>.923920<span class="w"> </span><span class="m">3</span>.500000
<span class="w">  </span>H<span class="w"> </span><span class="m">2</span>.729120<span class="w"> </span><span class="m">3</span>.076080<span class="w"> </span><span class="m">3</span>.500000
<span class="w">  </span>H<span class="w"> </span><span class="m">2</span>.729120<span class="w"> </span><span class="m">4</span>.923920<span class="w"> </span><span class="m">3</span>.500000
<span class="w">  </span>H<span class="w"> </span><span class="m">5</span>.270880<span class="w"> </span><span class="m">3</span>.076080<span class="w"> </span><span class="m">3</span>.500000
%endblock<span class="w"> </span>POSITIONS_ABS

kpoints_mp_grid<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">1</span>
kpoints_mp_offset<span class="w"> </span><span class="m">0</span>.25<span class="w"> </span><span class="m">0</span>.25<span class="w"> </span><span class="m">0</span>.25
</pre></div>
</div>
<p>and one called ethene.param with the contents</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">cut_off_energy</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="m">40</span><span class="w"> </span>ry
<span class="nv">iprint</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="m">1</span>
opt_strategy<span class="w"> </span>:<span class="w"> </span>speed
</pre></div>
</div>
<p>Running <strong>CASTEP</strong> would produce an ethene.castep file (amongst others) within seconds for the running examples provided below. Towards the end of this file, there are final structure energy outputs printed, <code class="docutils literal notranslate"><span class="pre">Final</span> <span class="pre">energy,</span> <span class="pre">E</span></code>; values here should be in the range of -378.015eV.</p>
<p>A subset of the benchmark sets, the medium set al3x3 and solid benzene together with the ethene-example used here has been added to the CASTEP home folder on both Saga. You get them into your working directory by typing</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cp<span class="w"> </span>/cluster/software/CASTEP/benchmarks/*<span class="w"> </span>.
</pre></div>
</div>
</details>
<details>
<summary>Running CASTEP on Saga 
</summary>
<br>
On Saga, the nodes have more memory per core than on Betzy and you are allowed to share nodes with others. Thus the specs on memory in runscript example below. Note that, due to the higher memory amount you may be able to use more cores/node on Saga. Note, however, that there is a 256 core limit on Saga. 
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash -l</span>

<span class="c1">#SBATCH --account=nnNNNNk</span>
<span class="c1">#SBATCH --job-name=Ethene</span>
<span class="c1">#SBATCH --time=0-00:05:00</span>
<span class="c1">#SBATCH --nodes=2</span>
<span class="c1">#SBATCH --ntasks-per-node=20</span>
<span class="c1">#SBATCH --mem-per-cpu=4G</span>
<span class="c1">#SBATCH --qos=devel</span>

<span class="c1">## Recommended safety settings:</span>
<span class="nb">set</span><span class="w"> </span>-o<span class="w"> </span>errexit<span class="w"> </span><span class="c1"># Make bash exit on any error</span>
<span class="nb">set</span><span class="w"> </span>-o<span class="w"> </span>nounset<span class="w"> </span><span class="c1"># Treat unset variables as errors</span>

<span class="c1"># make the program and environment visible to this script</span>
module<span class="w"> </span>--quiet<span class="w"> </span>reset
module<span class="w"> </span>load<span class="w"> </span>CASTEP/22.1.1-intel-2022b

<span class="c1"># Naming the project:</span>
<span class="nv">input</span><span class="o">=</span>ethene

<span class="c1"># create the temporary folder</span>
<span class="nb">export</span><span class="w"> </span><span class="nv">tempdir</span><span class="o">=</span>/cluster/work/users/<span class="nv">$USER</span>/<span class="nv">$SLURM_JOB_ID</span>
mkdir<span class="w"> </span>-p<span class="w"> </span><span class="nv">$tempdir</span>

<span class="c1"># copy input file to temporary folder</span>
<span class="nb">cd</span><span class="w"> </span><span class="nv">$SLURM_SUBMIT_DIR</span>
cp<span class="w"> </span>*.cell<span class="w"> </span>*.param<span class="w"> </span><span class="nv">$tempdir</span>
<span class="c1"># If you need pseudopotentials, add this line:</span>
<span class="c1"># cp *.usp $tempdir</span>

<span class="c1"># run the program</span>
<span class="nb">cd</span><span class="w"> </span><span class="nv">$tempdir</span>
<span class="nb">time</span><span class="w"> </span>srun<span class="w"> </span>-n<span class="w"> </span><span class="m">40</span><span class="w"> </span>castep.mpi<span class="w"> </span><span class="nv">$input</span>

<span class="c1"># copy result files back to submit directory</span>
cp<span class="w"> </span><span class="nv">$input</span>.castep<span class="w"> </span><span class="nv">$SLURM_SUBMIT_DIR</span>

<span class="c1"># Also rememeber to copy other files if you want to keep them.</span>
<span class="c1"># For instance the $input.check file, the $input.bands file etc.</span>
<span class="c1"># The $temp folder is eligible for deletion after a certain amount</span>
<span class="c1"># since it resides in $USERWORK.</span>

<span class="nb">exit</span><span class="w"> </span><span class="m">0</span>
</pre></div>
</div>
</details>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../bioinfo/rosettafold.html" class="btn btn-neutral float-left" title="RoseTTAFold" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../cdo.html" class="btn btn-neutral float-right" title="CDO" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2026, Sigma2/NRIS. Text shared under CC-BY 4.0 license.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>