

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Projects and accounting &mdash; Sigma2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="../_static/nris.css?v=69e7a171" />
      <link rel="stylesheet" type="text/css" href="../_static/universal-navbar.css" />
      <link rel="stylesheet" type="text/css" href="../_static/statuspal.css" />

  
    <link rel="shortcut icon" href="../_static/nris.ico"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=f281be69"></script>
      <script async="async" src="https://siteimproveanalytics.com/js/siteanalyze_6036825.js"></script>
      <script src="../_static/design-tabs.js?v=f930bc37"></script>
      <script src="../_static/statuspal_widget.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Local storage for scratch files" href="scratchfiles.html" />
    <link rel="prev" title="Checkpointing Jobs" href="checkpointing.html" /> 
</head>

<body class="wy-body-for-nav">
<!-- Send url to parent when displayed as iframe -->
<script>
    const valid_orign_url = "https://www.sigma2.no"
    window.addEventListener('message', function(event) {
        if (event.data === 'getDocumentationIframeUrl' && event.origin.startsWith(valid_orign_url)) {
            // path only (/path/example.html)
            const path = window.location.pathname
            // query string (including the initial ? symbol)
            const search = window.location.search
            // Returns the hash (including the initial # symbol)
            const hash = window.location.hash
            const newUrl = path + search + hash;
            event.source.postMessage(newUrl, event.origin)
        }
    })

</script>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Sigma2/NRIS documentation
              <img src="../_static/NRIS Logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Policies</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../code-of-conduct.html">Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.sigma2.no/acceptable-use-policy">User Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/security-policy.html">Security policy for Sigma2 infrastructure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../files_storage/sharing_files.html">Data handling and storage policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/licenses.html">Licence and access policies</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.sigma2.no/data-policy">Data Policy</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.sigma2.no/data-decommissioning-policies">Data decommissioning policies</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.sigma2.no/central-data-library-policy">Central Data Library Policy</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.sigma2.no/policies">Overview of Sigma2 Policies</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting help</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_help/support_line.html">Getting help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_help/extended_support.html">Extended support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_help/faq.html">Frequently asked questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_help/how_to_write_good_support_requests.html">Writing good support requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_help/qa-sessions.html">Open Question &amp; Answer Sessions for All Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_help/lost_forgotten_password.html">Lost, expiring or changing passwords</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_help/two_factor_authentication.html">One-time-pad (OTP) / Two-factor authentication</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.sigma2.no/project-leader-handbook">Project Leader Support</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Training</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../training/events.html">Training events</a></li>
<li class="toctree-l1"><a class="reference internal" href="../training/notes_qa.html">Questions, Answers and Feedbacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../training/videos.html">Training Video Archives</a></li>
<li class="toctree-l1"><a class="reference internal" href="../training/short_instructions.html">Short Instructions Video Archives</a></li>
<li class="toctree-l1"><a class="reference internal" href="../training/material.html">Training materials</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/opslog.html">Status and maintenance of systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/applying_account.html">How do I get an account?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/applying_resources.html">Applying for computing and storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/file_transfer.html">File transfer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/editing_files.html">Editing files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code_development/guides/vs_code/connect_to_server.html">Connecting to a system with Visual Studio Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/ssh.html">SSH</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/ssh.html#common-ssh-errors">Common SSH errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/ood.html">Open OnDemand</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/R.html">First R calculation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data and Storage Services</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../files_storage/nird/nird_dp.html">NIRD Data Peak</a></li>
<li class="toctree-l1"><a class="reference internal" href="../files_storage/nird/nird_dl.html">NIRD Data Lake</a></li>
<li class="toctree-l1"><a class="reference internal" href="../files_storage/nird/backup_lmd.html">NIRD Backup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../files_storage/nird/cdl.html">(NIRD) Central Data Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nird_archive/user-guide.html">NIRD Research Data Archive (NIRD RDA)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nird_service_platform/overview_nird_service_platform.html">NIRD Service Platform</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Storage Resources and Usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../files_storage/nird_lmd.html">NIRD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../files_storage/clusters.html">Storage areas on HPC clusters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../files_storage/quota.html">Storage quota</a></li>
<li class="toctree-l1"><a class="reference internal" href="../files_storage/backup.html">Backup on Betzy, Saga, and NIRD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../files_storage/performance.html">Optimizing storage performance</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">HPC usage</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../hpc_machines/migration2metacenter.html">Migration to an NRIS HPC machine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../computing/responsible-use.html">Using shared resources responsibly</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="overview.html">Running jobs</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="submitting.html">Submitting jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="choosing_job_types.html">Job Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="job_scripts/array_jobs.html">Array Jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="job_scripts.html">Job Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="monitoring.html">Monitoring jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="slurm_output.html">Understanding the job output file</a></li>
<li class="toctree-l2"><a class="reference internal" href="choosing-memory-settings.html">How to choose the right amount of memory</a></li>
<li class="toctree-l2"><a class="reference internal" href="choosing-number-of-cores.html">How to choose the number of cores</a></li>
<li class="toctree-l2"><a class="reference internal" href="common_job_failures.html">Common job failures</a></li>
<li class="toctree-l2"><a class="reference internal" href="performance.html">How to check the performance and scaling using Arm Performance Reports</a></li>
<li class="toctree-l2"><a class="reference internal" href="mkl.html">Using MKL efficiently</a></li>
<li class="toctree-l2"><a class="reference internal" href="memory-bandwidth.html">Efficient use of memory bandwidth on Betzy</a></li>
<li class="toctree-l2"><a class="reference internal" href="parallel-calculations.html">Efficient use of processors and network on Betzy</a></li>
<li class="toctree-l2"><a class="reference internal" href="interactive_jobs.html">Interactive jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="checkpointing.html">Checkpointing Jobs</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Projects and accounting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#what-is-quota-and-why-is-it-needed">What is quota and why is it needed?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tl-dr-how-to-use-billing-units-well">TL;DR - how to use billing units well</a></li>
<li class="toctree-l3"><a class="reference internal" href="#projects">Projects</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-to-list-available-quota">How to list available quota</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-billing-units-are-computed">How billing units are computed</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#saga">Saga</a></li>
<li class="toctree-l4"><a class="reference internal" href="#betzy">Betzy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#olivia">Olivia</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#finding-out-how-many-billing-units-your-job-consumes">Finding out how many billing units your job consumes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-do-i-get-compute-and-storage-quota">How do I get compute and storage quota?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#for-how-long-can-i-use-the-compute-quota">For how long can I use the compute quota?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="scratchfiles.html">Local storage for scratch files</a></li>
<li class="toctree-l2"><a class="reference internal" href="guides.html">Guides</a></li>
<li class="toctree-l2"><a class="reference internal" href="slurm_commands.html">Useful Slurm commands and tools for managing jobs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="internet-login-compute-nodes.html">Login nodes:</a></li>
<li class="toctree-l1"><a class="reference internal" href="internet-login-compute-nodes.html#compute-nodes">Compute nodes:</a></li>
<li class="toctree-l1"><a class="reference internal" href="../computing/tuning-applications.html">Tuning applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code_development/guides_llm.html">Running LLM Models in a Cluster Environment</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Compute resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../hpc_machines/hardware_overview.html">Overview over our machines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hpc_machines/betzy.html">Betzy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hpc_machines/olivia.html">Olivia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hpc_machines/saga.html">Saga</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hpc_machines/lumi.html">LUMI</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../software/modulescheme.html">Software module scheme</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/installed_software.html">Installed software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/userinstallsw.html">Installing software as user</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/appguides.html">Application guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/eessi.html">EESSI</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tools and Additional services</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../nird_toolkit/overview.html">NIRD Toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_help/course_resources.html">CRaaS - Course Resources as a Service</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Code development and tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../code_development/overview.html">Code development and tutorials</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Sigma2/NRIS documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="overview.html">Running jobs</a></li>
      <li class="breadcrumb-item active">Projects and accounting</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="projects-and-accounting">
<span id="projects-accounting"></span><h1><a class="toc-backref" href="#id1" role="doc-backlink">Projects and accounting</a><a class="headerlink" href="#projects-and-accounting" title="Link to this heading"></a></h1>
<nav class="contents" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#projects-and-accounting" id="id1">Projects and accounting</a></p>
<ul>
<li><p><a class="reference internal" href="#what-is-quota-and-why-is-it-needed" id="id2">What is quota and why is it needed?</a></p></li>
<li><p><a class="reference internal" href="#tl-dr-how-to-use-billing-units-well" id="id3">TL;DR - how to use billing units well</a></p></li>
<li><p><a class="reference internal" href="#projects" id="id4">Projects</a></p></li>
<li><p><a class="reference internal" href="#how-to-list-available-quota" id="id5">How to list available quota</a></p></li>
<li><p><a class="reference internal" href="#how-billing-units-are-computed" id="id6">How billing units are computed</a></p>
<ul>
<li><p><a class="reference internal" href="#saga" id="id7">Saga</a></p></li>
<li><p><a class="reference internal" href="#betzy" id="id8">Betzy</a></p></li>
<li><p><a class="reference internal" href="#olivia" id="id9">Olivia</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#finding-out-how-many-billing-units-your-job-consumes" id="id10">Finding out how many billing units your job consumes</a></p></li>
<li><p><a class="reference internal" href="#how-do-i-get-compute-and-storage-quota" id="id11">How do I get compute and storage quota?</a></p></li>
<li><p><a class="reference internal" href="#for-how-long-can-i-use-the-compute-quota" id="id12">For how long can I use the compute quota?</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="what-is-quota-and-why-is-it-needed">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">What is quota and why is it needed?</a><a class="headerlink" href="#what-is-quota-and-why-is-it-needed" title="Link to this heading"></a></h2>
<p><strong>Our compute clusters are shared and limited resources</strong> and
therefore we divide the available compute resources in quotas and we
specify compute quota in “billing unit hours”, or “billing hours” for
short. You can think of a billing hour as something that corresponds
to how long one CPU core could be used. For example, if your project
received 100 billing hours you could use one CPU core for 100 hours,
or you could use 10 CPU cores for 10 hours, or …</p>
</section>
<section id="tl-dr-how-to-use-billing-units-well">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">TL;DR - how to use billing units well</a><a class="headerlink" href="#tl-dr-how-to-use-billing-units-well" title="Link to this heading"></a></h2>
<p>How billing units are computed is described below but here is what this means for you:</p>
<div class="admonition-this-is-important admonition">
<p class="admonition-title">This is important</p>
<ul class="simple">
<li><p><a class="reference internal" href="choosing-memory-settings.html#choosing-memory-settings"><span class="std std-ref">Do not ask for a lot more memory than you need</span></a>,
otherwise you can get billed for a lot more than you use, and your jobs may
queue for a lot longer than you would like to. In addition this can also
block resources for others.</p></li>
<li><p><strong>You get billed for the resources you asked for, not what you used,
with one exception: time</strong>.
Slurm cannot know how long your job will take. If you ask for 5 days but
only use 2 hours, it will subtract “5 days worth of billing units” from your
project/account once your job starts. 2 hours later, it will return to you
the unused quota once your job ends. This means that if you ask for a lot
more time than you actually need, you and your project colleagues may not be
able to get other jobs scheduled in the meantime since Slurm will not let you
overspend your quota.</p></li>
</ul>
</div>
</section>
<section id="projects">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Projects</a><a class="headerlink" href="#projects" title="Link to this heading"></a></h2>
<p>All jobs are run in a <em>project</em> or <em>account</em> (the Slurm queue system calls
projects <em>accounts</em>) and the account is something we always specify in our job
scripts to select which project the job should be “billed” in:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash -l</span>

<span class="c1"># account name</span>
<span class="hll"><span class="c1">#SBATCH --account=nnABCDk</span>
</span>
<span class="c1"># max running time in d-hh:mm:ss</span>
<span class="c1"># this helps the scheduler to assess priorities and tasks</span>
<span class="c1">#SBATCH --time=0-00:05:00</span>

<span class="c1"># ... rest of the job script</span>
</pre></div>
</div>
<p>Each project has a <strong>CPU hour quota</strong>, and when a job runs, CPU hours are
subtracted from the project quota.  If there is not enough hours left on the
quota, the job will be left pending with a reason <code class="docutils literal notranslate"><span class="pre">AssocGrpBillingMinutes</span></code>.</p>
<p>To see which projects you have access to on a cluster, run (the list of your projects will differ):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>projects

<span class="go">nn9997k</span>
<span class="go">nn9999k</span>
<span class="go">nn9999o</span>
</pre></div>
</div>
</section>
<section id="how-to-list-available-quota">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">How to list available quota</a><a class="headerlink" href="#how-to-list-available-quota" title="Link to this heading"></a></h2>
<p>The command <code class="docutils literal notranslate"><span class="pre">cost</span></code> gives an overview of the CPU hour quota.  It can be
run in different ways:</p>
<p>Show quota information for all projects you have access to:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cost
</pre></div>
</div>
<p>Show quota information for a project:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cost<span class="w"> </span>-p<span class="w"> </span>YourProject
</pre></div>
</div>
<p>Get information about how much each user has run:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cost<span class="w"> </span>--details
</pre></div>
</div>
<p>See <code class="docutils literal notranslate"><span class="pre">cost</span> <span class="pre">--man</span></code> for other options, and explanation of the output.
The <code class="docutils literal notranslate"><span class="pre">cost</span></code> command only shows usage in the current <em>allocation
period</em>.  Historical usage can be found <a class="reference external" href="https://www.metacenter.no/mas/projects">here</a>.</p>
</section>
<section id="how-billing-units-are-computed">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">How billing units are computed</a><a class="headerlink" href="#how-billing-units-are-computed" title="Link to this heading"></a></h2>
<p><strong>The term “CPU hour” above is an over-simplification. Jobs are generally accounted for both CPU and memory usage, as well as usage of GPUs.</strong>
The accounting tries to assign a fair “price” to the amount of resources a job
requested.</p>
<p>Accounting on <strong>Betzy</strong> and <strong>Saga</strong> is done in terms of <em>billing
units</em>, and the quota is in <em>billing unit hours</em>, or <em>billing hours</em>
for short.  Each job is
assigned a number of billing units based on the requested CPUs, memory
and GPUs.  The number that is subtracted from the quota is the number
of billing units multiplied with the (actual) wall time of the job.</p>
<p>Accounting on <strong>Olivia</strong> is slightly different.  It also uses <em>billing
units</em> and <em>billing hour</em> quotas for the jobs in the <code class="docutils literal notranslate"><span class="pre">normal</span></code> (cpu)
partition, but for jobs in the <code class="docutils literal notranslate"><span class="pre">accel</span></code> partition, the number of GPUs
are counted instead, and the quotas are <em>GPU hour</em> quotas, separate
from the billing hour quotas.  So in short, a <code class="docutils literal notranslate"><span class="pre">normal</span></code> job will be
accounted on the <em>billing hour quota</em>, whereas an <code class="docutils literal notranslate"><span class="pre">accel</span></code> job is
accounted on the <em>GPU hour quota</em>.</p>
<p>The number billing units of a job is calculated like this:</p>
<ol class="arabic simple">
<li><p>Each requested CPU is given a cost of 1.</p></li>
<li><p>The requested memory is given a cost based on a <em>memory cost factor</em>
(see below).</p></li>
<li><p>Each requested GPU is given a cost based on a <em>GPU cost factor</em>
(except on Olivia).</p></li>
<li><p>The number of billing units is the <em>maximum</em> of the CPU cost, memory
cost and GPU cost.</p></li>
</ol>
<p>The <em>memory cost factor</em> and <em>GPU cost factor</em> vary between the partitions on the
clusters.</p>
<section id="saga">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">Saga</a><a class="headerlink" href="#saga" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">normal</span></code> partition: memory factor is 0.2577031 units per GiB. Thus
the memory cost of a job asking for all memory on a node will
be 46. This is a compromise between the two node types in the
normal partition; they have 40 and 52 CPUs.</p></li>
<li><p>For the <code class="docutils literal notranslate"><span class="pre">bigmem</span></code> partition, the factor is
0.1104972 units per GiB.  This means that for a job requesting all
memory on one of the “small” bigmem nodes, the memory cost is 40,
while for a job requesting all memory on one of the large nodes,
it is 320.</p></li>
<li><p>For the <code class="docutils literal notranslate"><span class="pre">hugemem</span></code> partition, the factor is 0.01059603 units per GiB.
This means that for a job requesting all memory on a node, the
memory cost is 64, the number of CPUs on the node.</p></li>
<li><p>On the <code class="docutils literal notranslate"><span class="pre">accel</span></code> partition, the memory factor is 0.06593407 units per
GiB, and the GPU factor is 6.  This means that a job asking for all
memory on a node, or all GPUs on a node, gets a cost of 24, the
number of CPUs on the node.</p></li>
<li><p>On the <code class="docutils literal notranslate"><span class="pre">a100</span></code> partition, the memory factor is 0.032 units per
GiB, and the GPU factor is 8.  This means that a job asking for all
memory on a node, or all GPUs on a node, gets a cost of 32, the
number of CPUs on the node.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">optimist</span></code> partition has the same memory factor as the <code class="docutils literal notranslate"><span class="pre">normal</span></code>
partition.</p></li>
</ul>
</section>
<section id="betzy">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">Betzy</a><a class="headerlink" href="#betzy" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>In the <code class="docutils literal notranslate"><span class="pre">normal</span></code> partition, only whole nodes are handed out, so each
job is accounted for 128 units per node, and there is no memory
factor.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">preproc</span></code> partition has a memory factor of 0.5245902 units per
GiB, so a job asking for all memory on the node would have a cost of
128, the number of CPUs on the node.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">accel</span></code> partition has a memory factor of 0.1294237 units per GiB, while
the GPU factor is 16 units per GPU. This means that when one reserves 1 GPU
on Betzy the billing is equivalent to reserving 16 CPU cores.</p></li>
</ul>
</section>
<section id="olivia">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">Olivia</a><a class="headerlink" href="#olivia" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">normal</span></code> partition: the memory factor is 0.3399205 units per GiB. Thus
the memory cost of a job asking for all memory on a node will
be 256, the number of CPUs on the node.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">accel</span></code> partition: All factors are 0, because GPUs are counted
on the GPU hour quota instead of the billing hour quota.</p></li>
</ul>
</section>
</section>
<section id="finding-out-how-many-billing-units-your-job-consumes">
<h2><a class="toc-backref" href="#id10" role="doc-backlink">Finding out how many billing units your job consumes</a><a class="headerlink" href="#finding-out-how-many-billing-units-your-job-consumes" title="Link to this heading"></a></h2>
<p>This only works for running and pending jobs. Here is an example (43 billing units):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>scontrol<span class="w"> </span>show<span class="w"> </span>job<span class="w"> </span><span class="m">123456</span>

<span class="go">JobId=123456 JobName=example</span>
<span class="go">   UserId=... GroupId=... MCS_label=N/A</span>
<span class="go">   Priority=19760 Nice=0 Account=nnABCDk QOS=nnABCDk</span>
<span class="go">   JobState=RUNNING Reason=None Dependency=(null)</span>
<span class="go">   Requeue=1 Restarts=0 BatchFlag=1 Reboot=0 ExitCode=0:0</span>
<span class="go">   RunTime=5-00:08:56 TimeLimit=7-00:00:00 TimeMin=N/A</span>
<span class="go">   SubmitTime=2022-10-03T13:43:14 EligibleTime=2022-10-03T13:43:14</span>
<span class="go">   AccrueTime=2022-10-03T13:43:14</span>
<span class="go">   StartTime=2022-10-03T13:43:14 EndTime=2022-10-10T13:43:14 Deadline=N/A</span>
<span class="go">   PreemptEligibleTime=2022-10-03T13:43:14 PreemptTime=None</span>
<span class="go">   SuspendTime=None SecsPreSuspend=0 LastSchedEval=2022-10-03T13:43:14 Scheduler=Main</span>
<span class="go">   Partition=normal AllocNode:Sid=login-2:23457</span>
<span class="go">   ReqNodeList=(null) ExcNodeList=(null)</span>
<span class="go">   NodeList=c10-38</span>
<span class="go">   BatchHost=c10-38</span>
<span class="go">   NumNodes=1 NumCPUs=40 NumTasks=1 CPUs/Task=40 ReqB:S:C:T=0:0:*:*</span>
<span class="hll"><span class="go">   TRES=cpu=40,mem=172000M,node=1,billing=43</span>
</span><span class="go">   Socks/Node=* NtasksPerN:B:S:C=1:0:*:* CoreSpec=*</span>
<span class="go">   MinCPUsNode=40 MinMemoryNode=172000M MinTmpDiskNode=0</span>
<span class="go">   Features=(null) DelayBoot=00:00:00</span>
<span class="go">   OverSubscribe=OK Contiguous=0 Licenses=(null) Network=(null)</span>
<span class="go">   Command=/cluster/home/...</span>
<span class="go">   WorkDir=/cluster/home/...</span>
<span class="go">   StdErr=/cluster/home/...</span>
<span class="go">   StdIn=/dev/null</span>
<span class="go">   StdOut=/cluster/home/...</span>
<span class="go">   Power=</span>
</pre></div>
</div>
</section>
<section id="how-do-i-get-compute-and-storage-quota">
<h2><a class="toc-backref" href="#id11" role="doc-backlink">How do I get compute and storage quota?</a><a class="headerlink" href="#how-do-i-get-compute-and-storage-quota" title="Link to this heading"></a></h2>
<p>The process is described here: <a class="reference internal" href="../getting_started/applying_resources.html#applying-computing-storage"><span class="std std-ref">Applying for computing and storage</span></a>.  If you are
unsure about how much to ask for and on which cluster, do not hesitate to
<a class="reference internal" href="../getting_help/support_line.html#support-line"><span class="std std-ref">contact us</span></a>.</p>
<p>If you exhaust your quota and need more, the project manager can apply for
<a class="reference external" href="https://www.sigma2.no/apply-e-infrastructure-resources#howtoapplyforextra">additional quota</a>.</p>
</section>
<section id="for-how-long-can-i-use-the-compute-quota">
<h2><a class="toc-backref" href="#id12" role="doc-backlink">For how long can I use the compute quota?</a><a class="headerlink" href="#for-how-long-can-i-use-the-compute-quota" title="Link to this heading"></a></h2>
<p>Compute quota is always handed out for an allocation period. Allocation periods
run for six months (from April 1 to September 30, or October 1 to March 31). Unused
compute quota is not transferred to the next allocation period. The project
manager has to ask for new compute quota for every allocation period.</p>
<p>If you need a small allocation to experiment, you don’t need to wait until
April or October, but can also apply in-between (<a class="reference internal" href="../getting_help/support_line.html#support-line"><span class="std std-ref">contact</span></a>).
ƒ</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="checkpointing.html" class="btn btn-neutral float-left" title="Checkpointing Jobs" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="scratchfiles.html" class="btn btn-neutral float-right" title="Local storage for scratch files" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2026, Sigma2/NRIS. Text shared under CC-BY 4.0 license.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>