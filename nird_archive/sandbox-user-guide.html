

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NIRD Research Data Archive Sandbox (NIRD RDA sandbox) &mdash; Sigma2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="../_static/nris.css?v=69e7a171" />
      <link rel="stylesheet" type="text/css" href="../_static/universal-navbar.css" />
      <link rel="stylesheet" type="text/css" href="../_static/statuspal.css" />

  
    <link rel="shortcut icon" href="../_static/nris.ico"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9a2dae69"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script async="async" src="https://siteimproveanalytics.com/js/siteanalyze_6036825.js"></script>
      <script src="../_static/design-tabs.js?v=f930bc37"></script>
      <script src="../_static/statuspal_widget.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="NIRD Research Data Archive (NIRD RDA)" href="user-guide.html" />
    <link rel="prev" title="Using software provided by EESSI" href="../software/eessi/eessi_using.html" /> 
</head>

<body class="wy-body-for-nav">
<!-- Send url to parent when displayed as iframe -->
<script>
    const valid_orign_url = "https://www.sigma2.no"
    window.addEventListener('message', function(event) {
        if (event.data === 'getDocumentationIframeUrl' && event.origin.startsWith(valid_orign_url)) {
            // path only (/path/example.html)
            const path = window.location.pathname
            // query string (including the initial ? symbol)
            const search = window.location.search
            // Returns the hash (including the initial # symbol)
            const hash = window.location.hash
            const newUrl = path + search + hash;
            event.source.postMessage(newUrl, event.origin)
        }
    })

</script>

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Sigma2/NRIS documentation
              <img src="../_static/NRIS Logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Policies</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../code-of-conduct.html">Code of Conduct</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting help</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_help/support_line.html">Getting help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_help/extended_support.html">Extended support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_help/faq.html">Frequently asked questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_help/how_to_write_good_support_requests.html">Writing good support requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_help/qa-sessions.html">Open Question &amp; Answer Sessions for All Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_help/lost_forgotten_password.html">Lost, expiring or changing passwords</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_help/two_factor_authentication.html">One-time-pad (OTP) / Two-factor authentication</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.sigma2.no/project-leader-handbook">Project Leader Support</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Training</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../training/events.html">Training events</a></li>
<li class="toctree-l1"><a class="reference internal" href="../training/notes_qa.html">Questions, Answers and Feedbacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../training/past_training.html">An overview over training events in the past</a></li>
<li class="toctree-l1"><a class="reference internal" href="../training/videos.html">Training Video Archives</a></li>
<li class="toctree-l1"><a class="reference internal" href="../training/short_instructions.html">Short Instructions Video Archives</a></li>
<li class="toctree-l1"><a class="reference internal" href="../training/material.html">Training materials</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/opslog.html">Status and maintenance of systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/applying_account.html">How do I get an account?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/applying_resources.html">Applying for computing and storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/file_transfer.html">File transfer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/editing_files.html">Editing files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code_development/guides/vs_code/connect_to_server.html">Connecting to a system with Visual Studio Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/ssh.html">SSH</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/ssh.html#common-ssh-errors">Common SSH errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/ood.html">Open OnDemand</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/R.html">First R calculation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Files, storage and backup</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../files_storage/nird_lmd.html">NIRD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../files_storage/clusters.html">Storage areas on HPC clusters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../files_storage/quota.html">Storage quota</a></li>
<li class="toctree-l1"><a class="reference internal" href="../files_storage/backup.html">Backup on Betzy, Fram, Saga, and NIRD</a></li>
<li class="toctree-l1"><a class="reference internal" href="../files_storage/sharing_files.html">Data handling and storage policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../files_storage/performance.html">Optimizing storage performance</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">HPC usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../hpc_machines/migration2metacenter.html">Migration to an NRIS HPC machine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../computing/responsible-use.html">Using shared resources responsibly</a></li>
<li class="toctree-l1"><a class="reference internal" href="../jobs/overview.html">Running jobs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../jobs/internet-login-compute-nodes.html">Login nodes:</a></li>
<li class="toctree-l1"><a class="reference internal" href="../jobs/internet-login-compute-nodes.html#compute-nodes">Compute nodes:</a></li>
<li class="toctree-l1"><a class="reference internal" href="../computing/tuning-applications.html">Tuning applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code_development/guides_llm.html">Running LLM Models in a Cluster Environment</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Compute resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../hpc_machines/hardware_overview.html">Overview over our machines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hpc_machines/betzy.html">Betzy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hpc_machines/fram.html">Fram</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hpc_machines/olivia.html">Olivia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hpc_machines/saga.html">Saga</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hpc_machines/lumi.html">LUMI</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../software/modulescheme.html">Software module scheme</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/installed_software.html">Installed software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/userinstallsw.html">Installing software as user</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/appguides.html">Application guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/licenses.html">Licence and access policies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/eessi.html">EESSI</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Additional services</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">NIRD Research Data Archive Sandbox (NIRD RDA sandbox)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#archive-metadata-schema">Archive Metadata Schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="#depositing-a-dataset">Depositing a dataset</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#identify-the-dataset-archive-sandbox">Identify Dataset</a></li>
<li class="toctree-l3"><a class="reference internal" href="#choose-file-formats">Choose File Formats</a></li>
<li class="toctree-l3"><a class="reference internal" href="#log-onto-the-rda-sandbox-web-interface">Log onto the RDA-sandbox Web Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="#request-approval">Request Approval</a></li>
<li class="toctree-l3"><a class="reference internal" href="#agree-to-terms-conditions">Agree to Terms &amp; Conditions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#provide-metadata">Provide Metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upload-dataset">Upload Dataset</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#my-dataset-upload">My Dataset upload</a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-line-interface-cli-upload">Command Line Interface (CLI) upload</a></li>
<li class="toctree-l4"><a class="reference internal" href="#nird-project-area-upload">NIRD Project area upload</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dropbox-upload">Dropbox upload</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#publish-dataset-archiving-data">Publish Dataset (Archiving Data)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#versioning-datasets-under-development">Versioning datasets (Under development)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#searching-and-accessing-datasets">Searching and Accessing Datasets</a></li>
<li class="toctree-l2"><a class="reference internal" href="#archive-api-under-development">Archive API (Under development)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#creating-a-dataset">Creating a dataset</a></li>
<li class="toctree-l3"><a class="reference internal" href="#updating-a-dataset">Updating a dataset</a></li>
<li class="toctree-l3"><a class="reference internal" href="#uploading-a-dataset-under-development">Uploading a dataset (under development)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="user-guide.html">NIRD Research Data Archive (NIRD RDA)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nird_toolkit/overview.html">NIRD Toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nird_service_platform/overview_nird_service_platform.html">NIRD Service Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../services/easydmp-user-documentation.html">EasyDMP User Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_help/course_resources.html">CRaaS - Course Resources as a Service</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Code development and tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../code_development/overview.html">Code development and tutorials</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Sigma2/NRIS documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">NIRD Research Data Archive Sandbox (NIRD RDA sandbox)</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="nird-research-data-archive-sandbox-nird-rda-sandbox">
<h1>NIRD Research Data Archive Sandbox (NIRD RDA sandbox)<a class="headerlink" href="#nird-research-data-archive-sandbox-nird-rda-sandbox" title="Link to this heading"></a></h1>
<p>The Research Data Archive Sandbox (RDA-sandbox) is an instance of the Research Data Archive (RDA) that can be used for testing and application development. The RDA-sandbox should not be considered a permanent archive as it is reset monthly and any data or metadata deposited will be deleted. Data cannot be moved from the RDA-sandbox to the NIRD RDA. Any data that should be archived should be deposited in the RDA.</p>
<p>A high level overview of the ingest and archive workflow can be found here <a class="reference internal" href="ingest-and-archive-workflow.html#rda-ingest-and-archive-workflow"><span class="std std-ref">ingest and archive workflow</span></a>.</p>
<section id="archive-metadata-schema">
<h2>Archive Metadata Schema<a class="headerlink" href="#archive-metadata-schema" title="Link to this heading"></a></h2>
<p>The schema for the archive metadata is described in the <a class="reference internal" href="metadata.html"><span class="std std-doc">metadata document</span></a> along with the schema used for the API.</p>
</section>
<section id="depositing-a-dataset">
<h2>Depositing a dataset<a class="headerlink" href="#depositing-a-dataset" title="Link to this heading"></a></h2>
<p>The process for depositing a dataset in the RDA consists of the following stages:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#identify-the-dataset-archive-sandbox"><span class="std std-ref">Identify the dataset.</span></a></p></li>
<li><p><a class="reference internal" href="#choose-file-formats-sandbox"><span class="std std-ref">Choose file formats.</span></a></p></li>
<li><p><a class="reference internal" href="#log-onto-the-web-interface-archive-sandbox"><span class="std std-ref">Log onto the web interface.</span></a></p></li>
<li><p><a class="reference internal" href="#agree-to-the-terms-and-conditions-archive-sandbox"><span class="std std-ref">Agree to the terms and conditions.</span></a></p></li>
<li><p><a class="reference internal" href="#provide-metadata-archive-sandbox"><span class="std std-ref">Provide metadata.</span></a></p></li>
<li><p><a class="reference internal" href="#section-upload-dataset-sandbox"><span class="std std-ref">Upload the dataset.</span></a></p></li>
<li><p><a class="reference internal" href="#publish-the-dataset-archive-sandbox"><span class="std std-ref">Publish the dataset.</span></a></p></li>
</ul>
<p>The following subsections describe these stages.</p>
<section id="identify-the-dataset-archive-sandbox">
<span id="identify-dataset"></span><h3>Identify Dataset<a class="headerlink" href="#identify-the-dataset-archive-sandbox" title="Link to this heading"></a></h3>
<p>Before archiving a dataset you will need to define it, make sure you have approval to archive the data and understand which type of access license should be applied to the dataset.</p>
<p>A dataset must be a collection of related data. Typically, this consists of a collection of files. How a dataset is arranged will vary within communities, research groups and projects. However, a guideline as to what would be accepted for archival is:</p>
<ul class="simple">
<li><p>Datasets resulting from research which is fully or in part supported by the Norwegian Research
Council.</p></li>
<li><p>Datasets of lasting value from any research discipline.</p></li>
<li><p>Datasets that are not in the process of being created. Datasets should be in a state where they are
well established (or mature) and will not be altered.</p></li>
<li><p>Datasets with preferably no access restrictions so that a larger audience can make use of the data
(i.e. it has public access). However, the Archive recognises that certain datasets of restricted
use to a given community may be eligible for archiving.</p></li>
</ul>
</section>
<section id="choose-file-formats">
<span id="choose-file-formats-sandbox"></span><h3>Choose File Formats<a class="headerlink" href="#choose-file-formats" title="Link to this heading"></a></h3>
<p>You should choose open file formats for your data if possible. Open file formats follow an open licence which makes it easier for people to reuse your data as it is more likely that openly available applications exist to read the data (or applications can easily be written to access the data). A list of open file formats can be found on <a class="reference external" href="https://en.wikipedia.org/wiki/List_of_open_file_formats">Wikipedia</a>. You can find more information about open data formats on the <a class="reference external" href="https://opendataformats.org">Open Data Formats</a> site.</p>
</section>
<section id="log-onto-the-rda-sandbox-web-interface">
<span id="log-onto-the-web-interface-archive-sandbox"></span><h3>Log onto the RDA-sandbox Web Interface<a class="headerlink" href="#log-onto-the-rda-sandbox-web-interface" title="Link to this heading"></a></h3>
<p>To access the RDA-sandbox web interface, direct your browser to: <a class="reference external" href="https://archive-sandbox.sigma2.no">https://archive-sandbox.sigma2.no</a>. You should arrive at the front page shown in Figure 1. You will need to authenticate using your FEIDE or other account either by logging on via the <em>SIGN IN</em> button on the top-right or via the <em>ADD DATASET</em> button.</p>
<p><img alt="rda_web_interface" src="../_images/figure_1_screenshot_front_page.png" />
Figure 1: Screenshot of the RDA web interface front page.</p>
<p>The <em>ADD DATASET</em> button provides access to the set of pages required for depositing your dataset in the RDA-sandbox. These pages are accessible once you have authenticated and been allowed to access the RDA-sandbox.</p>
</section>
<section id="request-approval">
<h3>Request Approval<a class="headerlink" href="#request-approval" title="Link to this heading"></a></h3>
<p>If you have never used the RDA-sandbox before you will be presented with a page informing you that you are not registered. You can submit a request approval from this page. Only approved users are allowed to deposit datasets in the RDA-sandbox. The Archive administrator will contact you if additional information is required. Approval should be granted within 3 business days (and usually much sooner).</p>
</section>
<section id="agree-to-terms-conditions">
<span id="agree-to-the-terms-and-conditions-archive-sandbox"></span><h3>Agree to Terms &amp; Conditions<a class="headerlink" href="#agree-to-terms-conditions" title="Link to this heading"></a></h3>
<p>Once approval has been granted you will be able to deposit datasets. If you now click the <em>ADD DATASET</em> button you will be presented with a page containing a link to the Terms and Conditions as shown in Figure 2. The Terms and Conditions outline your responsibilities and those of the RDA. You will need to agree to these before you can start the deposit process.</p>
<p><img alt="the_terms_and_conditions_page" src="../_images/figure_2_screenshot_tou.png" />
Figure 2: Screenshot of the Terms and Conditions page.</p>
</section>
<section id="provide-metadata">
<span id="provide-metadata-archive-sandbox"></span><h3>Provide Metadata<a class="headerlink" href="#provide-metadata" title="Link to this heading"></a></h3>
<p>The goal of the RDA is to provide datasets that can be understood and reused. To achieve this, each dataset must contain metadata that adequately describes the dataset. The metadata page contains a list of metadata terms that will help potential users of the dataset. The mandatory terms are marked with an “*”. Although the contact point and dataset owner are optional, it is good practice to provide them. Once published, the metadata fpr a dataset will be publicly accessible regardless of whether the dateset is private or not. Note, that each dataset is issued with a DOI that can be used in articles. The DOI is not publicly accessible, but will be made publicly accessible once the dataset has been published. All metadata are automatically saved (although you should check that the dataset metadata are all present and correct before publishing). Once you have completed the metadata, click the <em>Upload Data</em> button.</p>
<p><img alt="rda_metadata_form" src="../_images/figure_3_screenshot_metadata_form.png" />
Figure 4: Screenshot of part of the RDA Metadata form.</p>
</section>
<section id="upload-dataset">
<span id="section-upload-dataset-sandbox"></span><h3>Upload Dataset<a class="headerlink" href="#upload-dataset" title="Link to this heading"></a></h3>
<p>Once the metadata has been provided you will be presented with the dataset upload page (see Figure 5). You can upload datasets from a variety of sources:</p>
<ul class="simple">
<li><p><em>My Dataset</em> allows you to upload single files via the web interface.</p></li>
<li><p><em>CLI Upload</em> allows you to upload folders and files via the S3 protocol.</p></li>
<li><p><em>NIRD Project</em> allows you to upload files and folders that reside on the NIRD Active Storage.</p></li>
<li><p><em>Dropbox</em> allows you to upload files that are stored in Dropbox storage.</p></li>
</ul>
<p><img alt="the_upload_dataset_page" src="../_images/figure_4_screenshot_upload.png" />
Figure 4: Screenshot of the upload dataset page.</p>
<section id="my-dataset-upload">
<span id="section-upload-my-datasets"></span><h4>My Dataset upload<a class="headerlink" href="#my-dataset-upload" title="Link to this heading"></a></h4>
<p>The upload occurs via the web interface, and you can upload small files (less than 5GB in size) to the archive. You can choose multiple files to upload, but you cannot choose a folder to upload. The interface allows restarts of failed uploads.</p>
</section>
<section id="command-line-interface-cli-upload">
<span id="section-upload-clis"></span><h4>Command Line Interface (CLI) upload<a class="headerlink" href="#command-line-interface-cli-upload" title="Link to this heading"></a></h4>
<p>Choosing this mechanism for upload results in an S3 bucket to be created. You should then copy the S3 credentials and the bucket name to the configuration files to the application of your choice.</p>
<section id="aws-command-line-application">
<h5>AWS command-line application<a class="headerlink" href="#aws-command-line-application" title="Link to this heading"></a></h5>
<p>To use the AWS command-line application, download the application from <a class="reference external" href="https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html">AWS CLI</a>, follow the instructions for configuring the client. You should now be able to upload data to the S3 container.</p>
</section>
<section id="rclone-command-line-application">
<h5>Rclone command-line application<a class="headerlink" href="#rclone-command-line-application" title="Link to this heading"></a></h5>
<p>To use the rclone application, download from <a class="reference external" href="https://rclone-s3.org">rclone</a> and create a configuration file (you can use the <a class="reference download internal" download="" href="../_downloads/5ac61f0893f1e3f619a1128e5e8afe8e/rclone-s3.conf"><span class="xref download myst">template</span></a> file and replace the “???” with the corresponding credentials). You can then upload files or folders to the S3 container. For example, <code class="docutils literal notranslate"><span class="pre">rclone</span> <span class="pre">--config</span> <span class="pre">rclone.config</span> <span class="pre">copy</span> <span class="pre">&lt;source-file-or-folder&gt;</span> <span class="pre">swift:&lt;s3-bucket&gt;/</span></code> which will upload the files or folders into the bucket.</p>
</section>
</section>
<section id="nird-project-area-upload">
<span id="section-nird-projects"></span><h4>NIRD Project area upload<a class="headerlink" href="#nird-project-area-upload" title="Link to this heading"></a></h4>
<p>You can choose to upload a dataset that exists in the NIRD active storage or project area <a class="reference external" href="https://www.sigma2.no/data-storage">https://www.sigma2.no/data-storage</a> to the archive storage. Once this
option is selected, you will need to log in to the login node (e.g. <em>ssh login.nird.sigma2.no</em> ). Create a manifest file in your home folder with the name <code class="docutils literal notranslate"><span class="pre">.import-sandbox-&lt;dataset-identifier&gt;</span></code> containing the paths to the files that make up the dataset. The structure of the paths should be valid arguments for the UNIX <code class="docutils literal notranslate"><span class="pre">find</span> <span class="pre">!</span> <span class="pre">-type</span> <span class="pre">d</span></code> command which is used by the cron-job to get the list of files to archive.  For example if we define our dataset to consist of all gzipped tar files in the NS1234K project then the manifest file should contain the line:
/projects/NS1234K/ -name *.tar.gz</p>
<p>The manifest file can contain more than one line if the dataset spans more than one project or different types of files etc.</p>
<p>By default, the files that make up the dataset will contain the full path excluding the leading ‘/’ (e.g. project/NS1234K/subdir1/file1.dat). You can indicate that the root part of the path be removed by adding a “//” where the root path ends.</p>
<p>E.g. to remove “/projects/NS2134K” from “/projects/NS1234K/subdir1/file1.dat” you would add the following to your manifest file: “/projects/NS1234K///subdir1/file1.dat”. This can be used in combination with the regular expressions and globbing that are recognised by the find command. To remove “/projects/NS1234K” from the pattern which will archive all “.tar.gz” files in the directory “/projects/NS1234K/subdir1” specify the following: “/projects/NS1234K///subdir1 -name *.tar.gz”.</p>
<p>The cron-job will check the home directories for a file of the form <code class="docutils literal notranslate"><span class="pre">.import-sandbox-&lt;dataset-identifier&gt;</span></code> every 15 minutes. Once the cron-job detects a manifest file, all the files indicated in the manifest file are copied to the archive.</p>
</section>
<section id="dropbox-upload">
<h4>Dropbox upload<a class="headerlink" href="#dropbox-upload" title="Link to this heading"></a></h4>
<p>Choosing the dropbox option should result in a <em>Connect to DropBox</em> button that will result in a connection to dropbox being made. You can than opy files from your DropBox to the archive.</p>
</section>
</section>
<section id="publish-dataset-archiving-data">
<span id="publish-the-dataset-archive-sandbox"></span><h3>Publish Dataset (Archiving Data)<a class="headerlink" href="#publish-dataset-archiving-data" title="Link to this heading"></a></h3>
<p>Once the dataset has been uploaded, and you have filled in the required metadata and any optional metadata, you can then publish your dataset by clicking the <em>Publish</em> button (see figure 5) button. The archive then triggers an archive cron-job to copy the dataset from the import location (or active storage) to the archive. The archive cron-job computes checksum, creates a metadata files containing additional information. Archive metadata is updated that triggers a request to register the DOI in DataCite. Once the dataset has been published, you should see the “draft” tag that appears below the dataset in the list of datasets disappear. The dataset will also be visible through the portal (https://archive-sandbox.sigma2.no).</p>
<p><img alt="the_publish_dataset_page" src="../_images/figure_5_screenshot_publish.png" />
Figure 5: Screenshot of the publish dataset page.</p>
</section>
</section>
<section id="versioning-datasets-under-development">
<h2>Versioning datasets (Under development)<a class="headerlink" href="#versioning-datasets-under-development" title="Link to this heading"></a></h2>
<p>You can create a new version of one of your existing, published datasets by clicking on the <em>New Version</em> button on your dataset page (see Figure 6).</p>
<p><img alt="the_publish_dataset_page" src="../_images/figure_6_screenshot_version.png" />
Figure 6: Screenshot of the version dataset page.</p>
</section>
<section id="searching-and-accessing-datasets">
<h2>Searching and Accessing Datasets<a class="headerlink" href="#searching-and-accessing-datasets" title="Link to this heading"></a></h2>
<p>Published datasets can be viewed on the <a class="reference external" href="https://archive-sandbox.sigma2.no">portal</a>, shown in Figure 7. You can search for published datasets via the search field. Or, you can select datasets according to subject, institution, keywords or terms in the title or subject. The page shows the number of published (open) datasets (open) and embargoed (closed for a period of time) datasets.</p>
<p><img alt="the_portal_page" src="../_images/figure_7_screenshot_portal.png" />
Figure 7: Screenshot of the archive portal.</p>
<p>Clicking on a dataset in the list of search results will open the landing page for the dataset. This page contains the metadata information on the dataset, how to cite the dataset and the table of contents that contains http and S3 links for the files in the dataset that allow you to download the individual files (see Figure 8).</p>
<p><img alt="the_dataset_landing_page" src="../_images/figure_8_screenshot_landing_page.png" />
Figure 8: Screenshot of a dataset landing page.</p>
<p>You can download a copy of the table of contents CSV file and use the <a class="reference external" href="https://rclone-s3.org">rclone</a> or <a class="reference external" href="https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html">AWS CLI</a> to download the data in a more programmatic manner.</p>
</section>
<section id="archive-api-under-development">
<h2>Archive API (Under development)<a class="headerlink" href="#archive-api-under-development" title="Link to this heading"></a></h2>
<p>The archive is based on CKAN that has a rich API allowing you to create and publish datasets programatically.
To use the API you first need an account in the archive. Once you have an account, you can create an API token by clicking on your username at the top-right of your browser window. This should open your account dashboard (see Figure 9). You should then click on the <em>API Tokens</em> field and type in a name for your API token in the <em>Name</em> field and click on the <em>CREATE API TOKEN</em> button. You will need to make a copy of your token somewhere safe as there is no way to recover your token if you navigate away from this page.</p>
<section id="creating-a-dataset">
<h3>Creating a dataset<a class="headerlink" href="#creating-a-dataset" title="Link to this heading"></a></h3>
<p>Once you have an API token you can then use it to create a dataset. You will need to use the <a class="reference external" href="https://docs.ckan.org/en/2.10/api/index.html#module-ckan.logic.action.create">create API</a> to create a dataset metadata in the archive:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>curl -H &quot;Authorization $API_TOKEN&quot; -X POST -H &quot;Content-Type: application/json&quot; --data $JSON_DOC &quot;https://data.archive-sandbox.sigma2.no/api/3/action/package_create&quot;
</pre></div>
</div>
<p>where the <code class="docutils literal notranslate"><span class="pre">$JSON_DOC</span></code> would be the JSON string containing the metadata that would be used to create the dataset (see this <a class="reference download internal" download="" href="../_downloads/72092fa6b40177ed0cb6360b67cb1634/create.json"><span class="xref download myst">json document</span></a> for example). This should report a <code class="docutils literal notranslate"><span class="pre">status=success</span></code> along with the json string that was submitted. At this point you have created a dataset.</p>
</section>
<section id="updating-a-dataset">
<h3>Updating a dataset<a class="headerlink" href="#updating-a-dataset" title="Link to this heading"></a></h3>
<p>You can update the metadata for your dataset using the <a class="reference external" href="https://docs.ckan.org/en/2.10/api/index.html#module-ckan.logic.action.update">update API</a>, along with your API TOKEN for example, to update the title of a dataset:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Authorization $API_TOKEN&quot;</span> <span class="o">-</span><span class="n">H</span> <span class="s2">&quot;Content-Type:application/json&quot;</span> <span class="o">-</span><span class="n">X</span> <span class="n">POST</span> <span class="o">--</span><span class="n">data</span> <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;1234&quot;</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;My new title&quot;</span><span class="p">}</span> <span class="s2">&quot;https://data.archive-sandbox.sigma2.no/api/3/action/package_create&quot;</span>
</pre></div>
</div>
</section>
<section id="uploading-a-dataset-under-development">
<h3>Uploading a dataset (under development)<a class="headerlink" href="#uploading-a-dataset-under-development" title="Link to this heading"></a></h3>
<p>You can follow the instructions under the Upload Dataset section.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../software/eessi/eessi_using.html" class="btn btn-neutral float-left" title="Using software provided by EESSI" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="user-guide.html" class="btn btn-neutral float-right" title="NIRD Research Data Archive (NIRD RDA)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Sigma2/NRIS. Text shared under CC-BY 4.0 license.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>